import{r as f,u,j as e,L as l}from"./app-Bus1Jjcg.js";import{L as b,S as g,A as r}from"./AnimatedSection-Z1haEjeg.js";function w({meta:o,housePlan:s}){const[c,a]=f.useState(!1),{data:i,setData:x,post:m,processing:n,errors:d,reset:h}=u({email:""}),p=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(t),j=t=>{t.preventDefault(),m(`/plans/${s.slug}/download`,{onSuccess:()=>{a(!1),h(),window.location.href=`/plans/${s.slug}/download?email=${encodeURIComponent(i.email)}`}})};return e.jsxs(b,{children:[e.jsx(g,{meta:o}),e.jsx("div",{className:"pt-24 border-b border-white/5 bg-brand-950",children:e.jsx("div",{className:"container-custom py-4",children:e.jsxs("nav",{className:"flex text-sm",children:[e.jsx(l,{href:"/",className:"text-gray-500 hover:text-accent transition",children:"Home"}),e.jsx("span",{className:"mx-2 text-gray-600",children:"/"}),e.jsx(l,{href:"/plans",className:"text-gray-500 hover:text-accent transition",children:"House Plans"}),e.jsx("span",{className:"mx-2 text-gray-600",children:"/"}),e.jsx("span",{className:"text-white",children:s.title})]})})}),e.jsx("section",{className:"section-padding bg-brand-950",children:e.jsx("div",{className:"container-custom",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsx(r,{variant:"slide-left",children:e.jsx("div",{className:"aspect-square bg-brand-900 rounded-2xl overflow-hidden border border-white/10",children:s.preview_image?e.jsx("img",{src:`/storage/${s.preview_image}`,alt:s.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-600",children:e.jsx("svg",{className:"w-24 h-24",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})})})}),e.jsx(r,{variant:"slide-right",delay:200,children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-display font-bold text-white mb-4",children:s.title}),e.jsx("p",{className:"text-4xl font-bold gradient-text mb-8",children:p(s.price)}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[e.jsxs("div",{className:"glass rounded-2xl p-4",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Bedrooms"}),e.jsx("div",{className:"text-2xl font-display font-bold text-white",children:s.bedrooms})]}),e.jsxs("div",{className:"glass rounded-2xl p-4",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Bathrooms"}),e.jsx("div",{className:"text-2xl font-display font-bold text-white",children:s.bathrooms})]}),e.jsxs("div",{className:"glass rounded-2xl p-4",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Floors"}),e.jsx("div",{className:"text-2xl font-display font-bold text-white",children:s.floors})]}),e.jsxs("div",{className:"glass rounded-2xl p-4",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Area"}),e.jsxs("div",{className:"text-2xl font-display font-bold text-white",children:[s.area," sq ft"]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx("button",{onClick:()=>a(!0),className:"flex-1 btn-accent text-center",children:"Download PDF"}),e.jsx(l,{href:"/quote-request",className:"flex-1 btn-secondary text-center",children:"Request Quote"})]})]})})]})})}),e.jsx("section",{className:"pb-20 bg-brand-950",children:e.jsx("div",{className:"container-custom",children:e.jsxs(r,{variant:"fade-up",children:[e.jsx("h2",{className:"text-2xl font-display font-bold text-white mb-6",children:"Plan Description"}),e.jsx("div",{className:"prose prose-lg prose-invert max-w-none prose-headings:font-display prose-p:text-gray-400 prose-a:text-accent prose-strong:text-white",dangerouslySetInnerHTML:{__html:s.description}})]})})}),c&&e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"glass-dark rounded-2xl max-w-md w-full p-8 border border-white/10",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-display font-bold text-white",children:"Download House Plan"}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-500 hover:text-white transition",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("p",{className:"text-gray-400 mb-6",children:['Enter your email address to download the PDF for "',s.title,'".']}),e.jsxs("form",{onSubmit:j,children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"email",className:"label-modern",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",value:i.email,onChange:t=>x("email",t.target.value),className:"input-modern",placeholder:"your@email.com",required:!0}),d.email&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:d.email})]}),e.jsx("button",{type:"submit",disabled:n,className:"w-full btn-accent disabled:opacity-50",children:n?"Processing...":"Download PDF"})]})]})})]})}export{w as default};
