import{j as e,L as l,a as j}from"./app-CfFC6h8L.js";import{L as u,S as f,A as a}from"./AnimatedSection-RL86Xil7.js";function v({meta:c,log:t}){const o=s=>new Date(s).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),n=s=>{if(!s)return null;const[r,h]=s.split(":"),i=parseInt(r),p=i>=12?"PM":"AM";return`${i%12||12}:${h} ${p}`},x=t.workers.reduce((s,r)=>s+(r.hours_worked||0),0),d=t.materials.reduce((s,r)=>s+(r.quantity||0)*(r.unit_cost||0),0),m=()=>{confirm("Are you sure you want to delete this work log?")&&j.delete(`/site-work/log/${t.id}`)};return e.jsxs(u,{children:[e.jsx(f,{meta:c}),e.jsxs("section",{className:"relative pt-36 pb-12 md:pt-44 md:pb-16 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-brand-950"}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,rgba(245,158,11,0.08),transparent_60%)]"}),e.jsx("div",{className:"relative container-custom",children:e.jsxs(a,{variant:"fade-up",children:[e.jsxs(l,{href:`/site-work/project/${t.project.id}`,className:"inline-flex items-center gap-2 text-gray-400 hover:text-accent transition-colors mb-6",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to ",t.project.title]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-8 h-0.5 bg-accent rounded-full"}),e.jsx("span",{className:"text-accent font-medium text-sm tracking-wide uppercase",children:"Work Log"})]}),e.jsx("h1",{className:"text-3xl sm:text-4xl font-display font-bold text-white mb-2",children:o(t.work_date)}),e.jsxs("p",{className:"text-gray-400",children:[t.project.title," â€¢ ",t.project.location]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(l,{href:`/site-work/log/${t.id}/edit`,className:"btn-secondary",children:"Edit"}),e.jsx("button",{onClick:m,className:"px-4 py-2 rounded-xl bg-red-500/10 text-red-400 border border-red-500/20 hover:bg-red-500/20 transition-colors",children:"Delete"})]})]})]})})]}),e.jsx("section",{className:"py-12 md:py-16 bg-brand-950",children:e.jsxs("div",{className:"container-custom max-w-4xl",children:[e.jsx(a,{variant:"fade-up",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsxs("div",{className:"card-modern rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-display font-bold text-accent",children:t.workers.length}),e.jsx("div",{className:"text-sm text-gray-400",children:"Workers"})]}),e.jsxs("div",{className:"card-modern rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-display font-bold text-accent",children:x}),e.jsx("div",{className:"text-sm text-gray-400",children:"Total Hours"})]}),e.jsxs("div",{className:"card-modern rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-display font-bold text-accent",children:t.materials.length}),e.jsx("div",{className:"text-sm text-gray-400",children:"Materials"})]}),e.jsxs("div",{className:"card-modern rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-display font-bold text-accent",children:d>0?`$${d.toLocaleString()}`:"-"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Material Cost"})]})]})}),e.jsx(a,{variant:"fade-up",delay:50,children:e.jsxs("div",{className:"card-modern rounded-2xl p-6 md:p-8 mb-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[(t.start_time||t.end_time)&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("span",{children:[n(t.start_time)," -"," ",n(t.end_time)]})]}),t.weather_conditions&&e.jsx("span",{className:"px-3 py-1 bg-brand-800 text-gray-300 rounded-full text-sm",children:t.weather_conditions}),t.creator&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e.jsxs("span",{children:["Logged by ",t.creator.name]})]})]}),e.jsx("h2",{className:"text-lg font-display font-semibold text-white mb-3",children:"Work Description"}),e.jsx("p",{className:"text-gray-300 whitespace-pre-wrap leading-relaxed",children:t.work_description})]})}),t.difficulties&&e.jsx(a,{variant:"fade-up",delay:100,children:e.jsxs("div",{className:"card-modern rounded-2xl p-6 md:p-8 mb-6 border-red-500/20 bg-red-500/5",children:[e.jsxs("h2",{className:"text-lg font-display font-semibold text-red-400 mb-3 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Difficulties Encountered"]}),e.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:t.difficulties})]})}),t.workers.length>0&&e.jsx(a,{variant:"fade-up",delay:150,children:e.jsxs("div",{className:"card-modern rounded-2xl p-6 md:p-8 mb-6",children:[e.jsxs("h2",{className:"text-lg font-display font-semibold text-white mb-4",children:["Workers (",t.workers.length,")"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-white/10",children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-400",children:"Name"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-400",children:"Role"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-400",children:"Hours"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-400",children:"Tasks"})]})}),e.jsx("tbody",{children:t.workers.map(s=>e.jsxs("tr",{className:"border-b border-white/5",children:[e.jsx("td",{className:"py-3 px-4 text-white",children:s.worker_name}),e.jsx("td",{className:"py-3 px-4 text-gray-400",children:s.role||"-"}),e.jsx("td",{className:"py-3 px-4 text-gray-400",children:s.hours_worked||"-"}),e.jsx("td",{className:"py-3 px-4 text-gray-400",children:s.tasks_performed||"-"})]},s.id))})]})})]})}),t.materials.length>0&&e.jsx(a,{variant:"fade-up",delay:200,children:e.jsxs("div",{className:"card-modern rounded-2xl p-6 md:p-8 mb-6",children:[e.jsxs("h2",{className:"text-lg font-display font-semibold text-white mb-4",children:["Materials Used (",t.materials.length,")"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-white/10",children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-400",children:"Material"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-400",children:"Quantity"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-400",children:"Unit Cost"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-400",children:"Total"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-400",children:"Supplier"})]})}),e.jsx("tbody",{children:t.materials.map(s=>e.jsxs("tr",{className:"border-b border-white/5",children:[e.jsx("td",{className:"py-3 px-4 text-white",children:s.material_name}),e.jsxs("td",{className:"py-3 px-4 text-gray-400",children:[s.quantity," ",s.unit]}),e.jsx("td",{className:"py-3 px-4 text-gray-400",children:s.unit_cost?`$${s.unit_cost}`:"-"}),e.jsx("td",{className:"py-3 px-4 text-accent",children:s.unit_cost?`$${(s.quantity*s.unit_cost).toLocaleString()}`:"-"}),e.jsx("td",{className:"py-3 px-4 text-gray-400",children:s.supplier||"-"})]},s.id))})]})})]})}),t.images&&t.images.length>0&&e.jsx(a,{variant:"fade-up",delay:225,children:e.jsxs("div",{className:"card-modern rounded-2xl p-6 md:p-8 mb-6",children:[e.jsxs("h2",{className:"text-lg font-display font-semibold text-white mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Work Images (",t.images.length,")"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:t.images.map(s=>e.jsxs("a",{href:`/storage/${s.image_path}`,target:"_blank",rel:"noopener noreferrer",className:"group block",children:[e.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden bg-brand-800 relative",children:[e.jsx("img",{src:`/storage/${s.image_path}`,alt:s.caption||"Work image",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-white opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})})})]}),s.caption&&e.jsx("p",{className:"text-gray-400 text-sm mt-2 truncate",children:s.caption})]},s.id))})]})}),(t.safety_notes||t.additional_notes)&&e.jsx(a,{variant:"fade-up",delay:250,children:e.jsxs("div",{className:"card-modern rounded-2xl p-6 md:p-8",children:[t.safety_notes&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("h2",{className:"text-lg font-display font-semibold text-yellow-400 mb-3 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Safety Notes"]}),e.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:t.safety_notes})]}),t.additional_notes&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-display font-semibold text-white mb-3",children:"Additional Notes"}),e.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:t.additional_notes})]})]})})]})})]})}export{v as default};
